#redis面试快速版

Redis是单线程模型还是多线程模型?

Redis单线程模型为什么可以那么快

怼redis数据结构底层实现

redis如何支持并发访问
redis和使用本地缓存进行缓存相比有什么好处
redis和mysql双写一致性问题

##消息重复消费怎么解决？

1、如果要保存到数据库的数据，我们可以设置某条数据的某个值，比如订单号之类的，设置一个**唯一索引**，这样的话即使重复消费也不会生效数据

2、**乐观锁**，也就是我们每次插入一条数据或者更新的时候判断某个版本号是不是与预期一样，如果不是，那么就不进行操作

3、使用redis进行存储，保留我们消费国的数据的每个特征，然后每次操作数据的时候**先去redis进行判断**，**如果存在的话，那么这条数据就是重复消费的**，然后我们可以丢弃或者做其他处理。

##Redis 在高并发抢库存的情况下，如何实现事务

（库存操作不是一个原子操作，需要先读出来，减1，然后再写回去）

